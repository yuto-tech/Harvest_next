{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/kataokayuuto/Desktop/react-study/Harvest_next/Components/Form.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Head from 'next/head';\nimport Login from '../pages/Login';\nimport Footer from '../components/Footer';\nimport firebase from \"firebase/app\";\nimport 'firebase/auth';\nimport '../firebaseClient';\nexport var UserCount = /*#__PURE__*/React.createContext();\n\nvar Form = function Form() {\n  _s();\n\n  var _useState = useState(''),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  var _useState2 = useState(''),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      password = _useState3[0],\n      setPassword = _useState3[1];\n\n  var _useState4 = useState(''),\n      emailError = _useState4[0],\n      setEmailError = _useState4[1];\n\n  var _useState5 = useState(''),\n      passwordError = _useState5[0],\n      setpasswordError = _useState5[1];\n\n  var _useState6 = useState(''),\n      hasAccount = _useState6[0],\n      sethasAccount = _useState6[1];\n\n  var crearInputs = function crearInputs() {\n    setEmail('');\n    setPassword('');\n  };\n\n  var crearErrors = function crearErrors() {\n    setEmailError('');\n    setpasswordError('');\n  };\n\n  var handlelogin = function handlelogin() {\n    crearErrors('');\n    firebase.auth().signInWithEmailAndPassword(email, password)[\"catch\"](function (error) {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n\n      switch (errorCode) {\n        case \"auth/invaild-email\":\n        case \"auth/user-disabled\":\n        case \"auth/ser-not-found\":\n          setEmailError(errorMessage);\n          break;\n\n        case \"auth/wrong-password\":\n          setpasswordError(errorMessage);\n          break;\n      }\n    });\n  };\n\n  var handleSignup = function handleSignup() {\n    crearErrors('');\n    firebase.auth().signInWithEmailAndPassword(email, password)[\"catch\"](function (error) {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n\n      switch (errorCode) {\n        case \"auth/email-already-in-use\":\n        case \"auth/inviled-email\":\n          setEmailError(errorMessage);\n          break;\n\n        case \"auth/weak-password\":\n          setpasswordError(errorMessage);\n          break;\n      }\n    });\n  };\n\n  var handleLogout = function handleLogout() {\n    firebase.auth().signOut();\n  };\n\n  var authListener = function authListener() {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        crearInputs();\n        setUser(user);\n      } else {\n        setUser(\"\");\n      }\n    });\n  };\n\n  useEffect(function () {\n    authListener();\n  }, []);\n\n  var IfLogin = function IfLogin() {\n    if (user) {\n      return props.children;\n    }\n\n    return /*#__PURE__*/_jsxDEV(Login, {\n      email: email,\n      setEmail: setEmail,\n      password: password,\n      setPassword: setPassword,\n      handlelogin: handlelogin,\n      handleSignup: handleSignup,\n      handleLogout: handleLogout,\n      sethasAccount: sethasAccount,\n      emailError: emailError,\n      passwordError: passwordError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Harvest\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        charSet: \"utf-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"viewport\",\n        content: \"initial-scale=1.0, width=device-width\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"body\", {\n      children: [user ? props.children : /*#__PURE__*/_jsxDEV(Login, {\n        email: email,\n        setEmail: setEmail,\n        password: password,\n        setPassword: setPassword,\n        handlelogin: handlelogin,\n        handleSignup: handleSignup,\n        handleLogout: handleLogout,\n        sethasAccount: sethasAccount,\n        emailError: emailError,\n        passwordError: passwordError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 8\n      }, _this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(Form, \"TBXAdIS3M28bE6rQRkybQ8k7mYE=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/Users/kataokayuuto/Desktop/react-study/Harvest_next/Components/Form.js"],"names":["React","useState","useEffect","Head","Login","Footer","firebase","UserCount","createContext","Form","user","setUser","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setpasswordError","hasAccount","sethasAccount","crearInputs","crearErrors","handlelogin","auth","signInWithEmailAndPassword","error","errorCode","code","errorMessage","message","handleSignup","handleLogout","signOut","authListener","onAuthStateChanged","IfLogin","props","children"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from \"react\";\nimport Head from 'next/head';\nimport Login from '../pages/Login';\nimport Footer from '../components/Footer';\nimport firebase from \"firebase/app\";\nimport 'firebase/auth' ;\nimport '../firebaseClient';\n\nexport const UserCount = React.createContext()\n\nconst Form = () => {\n  \n  const [user, setUser] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setpasswordError] = useState('');\n  const [hasAccount, sethasAccount] = useState('');\n\n  const crearInputs = () => {\n    setEmail('');\n    setPassword('');\n  }\n\n  const crearErrors = () => {\n    setEmailError('');\n    setpasswordError('');\n  }\n\n  const handlelogin = () => {\n    crearErrors('');\n    firebase\n    .auth()\n    .signInWithEmailAndPassword(email, password)\n    .catch((error) => {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      switch (errorCode){\n        case \"auth/invaild-email\":\n        case \"auth/user-disabled\":\n        case \"auth/ser-not-found\":\n          setEmailError(errorMessage);\n          break;\n        case \"auth/wrong-password\":\n          setpasswordError(errorMessage);\n          break;\n      }\n    });\n  }\n\n  const handleSignup = () => {\n    crearErrors('');\n    firebase\n    .auth()\n    .signInWithEmailAndPassword(email, password)\n    .catch((error) => {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      switch (errorCode){\n        case \"auth/email-already-in-use\":\n        case \"auth/inviled-email\":\n          setEmailError(errorMessage);\n          break;\n        case \"auth/weak-password\":\n          setpasswordError(errorMessage);\n          break;\n      }\n    });\n  }\n\n  const handleLogout = () => {\n    firebase.auth().signOut();\n  }\n\n  const authListener = () => {\n    firebase.auth().onAuthStateChanged( user => {\n      if (user) {\n        crearInputs();\n        setUser(user);\n      } else {\n        setUser(\"\");\n      }\n    });\n  }\n\n  useEffect(() => {\n    authListener();\n  },[])\n\n  const IfLogin = () => {\n    if (user) {\n      return (props.children);\n    }\n    return (      \n    <Login\n      email={email}\n      setEmail={setEmail}\n      password={password}\n      setPassword={setPassword}\n      handlelogin={handlelogin}\n      handleSignup={handleSignup}\n      handleLogout={handleLogout}\n      sethasAccount={sethasAccount}\n      emailError={emailError}\n      passwordError={passwordError}\n      />);\n  }\n  \n  return (<>\n    <Head>\n      <title>Harvest</title>\n      <meta charSet='utf-8'/>\n      <meta name='viewport' content='initial-scale=1.0, width=device-width' />\n    </Head>\n    <body>\n      { user ? (props.children):\n      (<Login\n      email={email}\n      setEmail={setEmail}\n      password={password}\n      setPassword={setPassword}\n      handlelogin={handlelogin}\n      handleSignup={handleSignup}\n      handleLogout={handleLogout}\n      sethasAccount={sethasAccount}\n      emailError={emailError}\n      passwordError={passwordError}\n      />)}\n      <Footer/>\n    </body>\n  </>);\n};\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}