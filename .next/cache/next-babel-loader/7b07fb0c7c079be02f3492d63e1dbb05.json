{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/kataokayuuto/Desktop/Harvest_next/pages/setting.js\";\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport styled from 'styled-components';\nimport PhotoIcon from '@material-ui/icons/Photo';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { useForm } from \"react-hook-form\";\nimport { useRouter } from 'next/router';\nimport firebaseClient from '../firebaseClient';\nimport { v4 as uuidv4 } from 'uuid';\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport 'firebase/storage';\nimport 'firebase/app';\nimport { FacebookShareButton, FacebookIcon, TwitterShareButton, TwitterIcon } from 'react-share'; //firebase初期化\n\nfirebaseClient(); //firestore初期化\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nconst setting = () => {\n  const router = useRouter();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors\n  } = useForm();\n  const {\n    0: title,\n    1: settitle\n  } = useState('');\n  const {\n    0: image,\n    1: setimage\n  } = useState('');\n  const {\n    0: sumview,\n    1: setsumview\n  } = useState('');\n  const {\n    0: giveday,\n    1: setgiveday\n  } = useState('');\n  const {\n    0: explanation,\n    1: setexplanation\n  } = useState('');\n  const {\n    0: Userlist,\n    1: setUserlist\n  } = useState('');\n  const {\n    0: UUID,\n    1: setUUID\n  } = useState(uuidv4());\n  useEffect(() => {\n    !auth.currentUser && router.push('/signIn');\n  }, [auth.currentUser]);\n  const {\n    uid\n  } = auth.currentUser;\n  firestore.collection('UserList').doc(uid).get().then(doc => {\n    setUserlist(doc.data());\n  }).catch(error => {\n    console.log(\"Error getting document:\", error);\n  });\n  const fanding = firestore.collection('Fanding').doc(UUID);\n\n  const onSubmit = () => {\n    fanding.set({\n      title: title,\n      image: fileUrl,\n      sumview: sumview,\n      giveday: giveday,\n      explanation: explanation,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n      createdBy: Userlist.Name,\n      titleID: UUID\n    }).then(() => {\n      router.replace('/');\n    });\n  }; //fileupload\n\n\n  const {\n    0: selectedFile,\n    1: setSelectedFile\n  } = useState('');\n  const {\n    0: preview,\n    1: setPreview\n  } = useState('');\n  const [fileUrl, setFileUrl] = React.useState(null);\n  const fileId = uuidv4();\n  useEffect(() => {\n    if (!selectedFile) {\n      setPreview(undefined);\n      return;\n    }\n\n    const objectUrl = URL.createObjectURL(selectedFile);\n    setPreview(objectUrl);\n    return () => URL.revokeObjectURL(objectUrl);\n  }, [selectedFile]);\n\n  const onSelectFile = async e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    }\n\n    setSelectedFile(e.target.files[0]);\n    const file = e.target.files[0];\n    const storageRef = firebase.storage().ref();\n    const fileRef = storageRef.child(`${fileId}.jpeg`);\n    await fileRef.put(file);\n    setFileUrl(await fileRef.getDownloadURL());\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Layout, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Body, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Header__logo, {\n            children: \"Harvest\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Header__button, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(Header__button__noselect, {\n              children: \"\\u5FDC\\u63F4\\u3059\\u308B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            href: \"./support\",\n            children: /*#__PURE__*/_jsxDEV(Header__button__noselect, {\n              children: \"\\u652F\\u63F4\\u4E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 32\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            href: \"./setting\",\n            children: /*#__PURE__*/_jsxDEV(Header__button__select, {\n              children: \"\\u652F\\u63F4\\u3057\\u3066\\u3082\\u3089\\u3046\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 32\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Header__login, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"../signIn\",\n            children: /*#__PURE__*/_jsxDEV(AccountCircle, {\n              style: {\n                fontSize: '40px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Main, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(Setting, {\n            children: [/*#__PURE__*/_jsxDEV(Setting__image, {\n              children: selectedFile && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: preview,\n                style: {\n                  width: \"100%\",\n                  height: \"100%\",\n                  zIndex: 0\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Setting__file, {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"image\",\n                children: [/*#__PURE__*/_jsxDEV(Setting__file__images, {\n                  children: [/*#__PURE__*/_jsxDEV(PhotoIcon, {\n                    style: {\n                      verticalAlign: \"middle\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 13\n                  }, this), \"\\u30B5\\u30E0\\u30CD\\u30A4\\u30EB\\u3092\\u6295\\u7A3F\\u3059\\u308B\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(Filesend, {\n                  type: \"file\",\n                  id: \"image\",\n                  name: \"image\",\n                  onChange: (e => setimage(e.target.value), onSelectFile),\n                  inputRef: register({\n                    required: true\n                  }),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Fand, {\n            children: [/*#__PURE__*/_jsxDEV(Fand__title, {\n              type: \"text\",\n              size: \"56\",\n              name: \"title\",\n              inputRef: register({\n                required: true\n              }),\n              onChange: e => settitle(e.target.value),\n              placeholder: \"\\u30BF\\u30A4\\u30C8\\u30EB\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Fand__goal, {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"\\u76EE\\u6A19\\u8996\\u8074\\u6570(\\u5343\\u5358\\u4F4D)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  max: \"10000\",\n                  min: \"1\",\n                  name: \"sumview\",\n                  inputRef: register({\n                    required: true\n                  }),\n                  onChange: e => setsumview(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 11\n                }, this), \"k\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"\\u52DF\\u96C6\\u65E5\\u6570\\uFF08\\u65E5\\uFF09\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 22\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  max: \"14\",\n                  min: \"1\",\n                  name: \"giveweek\",\n                  inputRef: register({\n                    required: true\n                  }),\n                  onChange: e => setgiveday(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 13\n                }, this), \"days\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [/*#__PURE__*/_jsxDEV(FacebookShareButton, {\n                  url: [\"https://www.typescriptlang.org/docs/handbook/asp-net-core.html\"],\n                  title: ['none'],\n                  children: /*#__PURE__*/_jsxDEV(FacebookIcon, {\n                    size: 45,\n                    round: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(TwitterShareButton, {\n                  url: [\"https://www.typescriptlang.org/docs/handbook/asp-net-core.html\"],\n                  title: ['none'],\n                  children: /*#__PURE__*/_jsxDEV(TwitterIcon, {\n                    size: 45,\n                    round: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 14\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Message, {\n            children: [/*#__PURE__*/_jsxDEV(Message__list, {\n              children: /*#__PURE__*/_jsxDEV(Message__icon, {\n                src: \"../static/pics2.jpg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Message__text, {\n              children: /*#__PURE__*/_jsxDEV(Message__text__lay, {\n                name: \"explanation\",\n                cols: \"80\",\n                rows: \"20\",\n                nputRef: register({\n                  required: true\n                }),\n                onChange: e => setexplanation(e.target.value),\n                required: true,\n                placeholder: \"\\u8AAC\\u660E\\u6587\\u3092\\u66F8\\u3044\\u3066\\u304F\\u3060\\u3055\\u3044(1200\\u6587\\u5B57\\u4EE5\\u4E0B)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            children: /*#__PURE__*/_jsxDEV(Button__desition, {\n              placeholder: \"\\u6295\\u7A3F\\u3059\\u308B\",\n              type: \"submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Aside, {\n        children: /*#__PURE__*/_jsxDEV(Advertisement, {\n          src: \"../static/pics2.jpg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\nexport default setting;\nconst Body = styled.body`\n  width: 100%;\n  margin: 0 auto;\n  min-height: 100vh;\n  display: grid;\n  grid-template:\n      \"...... ...... ...... ...... ......\"\n      \"header header header header header\" \n      \"...... ...... ...... ...... ......\"\n      \"center center center ...... right \" 100%\n      \"...... ...... ...... ...... ......\"\n      /  20% auto 1fr auto 24% ;\n`;\nconst Header = styled.header`\n  grid-area: header;\n  display: flex;\n  flex: auto;\n  justify-content:space-between;\n  flex-wrap: wrap;\n  padding:16px 0 0 4%;\n  text-align: center;\n  font-weight: 300;\n  background-color: #fff;\n  color: #434a54;\n  border-bottom: 1px solid #e3e4e8;\n`;\nconst Main = styled.main`\n  grid-area: center;\n  margin: 2%;\n`;\nconst Aside = styled.aside`\n  grid-area: right;\n  background-color:#f5f5f5;\n`;\nconst Header__logo = styled.a`\n  font-size: 30px;\n`;\nconst Header__login = styled.a`\n  width:160px;\n`;\nconst Header__button = styled.div`\n  display: flex;\n  justify-content: center;\n  text-align: center;\n`;\nconst Header__button__noselect = styled.a`\n  width:140px;\n  font-size:18px;\n  padding: 17px;\n  line-height: 16px;\n  border: 1px solid #e3e4e8;\n  border-bottom: none;\n  color: #434a54;\n  &:hover{\n    background-color: #434a54;\n    color:#fff;\n    opacity: 0.8;\n  }\n  &:target {\n    background-color: #434a54;\n    color:#fff;\n  }\n`;\nconst Header__button__select = styled.a`\n  background-color: #434a54;\n  color:#fff;\n  opacity: 0.8;\n  width:140px;\n  font-size:18px;\n  padding: 17px;\n  line-height: 15px;\n  border-bottom: none;\n  border: 1px solid #e3e4e8;\n`;\nconst Setting = styled.div`\n  border: 1px solid #e3e4e8;\n  width: 100%;\n  height: 560px;\n  text-align:center;\n  margin-bottom:30px;\n`;\nconst Setting__file = styled.div`\n  z-index: 1;\n  height: 560px;\n  width: 100%;\n  opacity: 0;\n  -webkit-transition: all 0.2s ease;\n  transition: all 0.2s ease;\n  &:hover{\n    background-color: rgb(104, 103, 103);\n    opacity: 0.7;\n  }\n`;\nconst Setting__file__images = styled.span`\n  font-size: 16px;\n  color: whitesmoke;\n  height: 200px;\n  margin: auto;\n  opacity: 1;\n  line-height: 570px;\n  &:hover{\n    color: whitesmoke;\n    opacity: 0.7; \n  }\n`;\nconst Filesend = styled.input`\n  display: none;\n`;\nconst Setting__image = styled.div`\n  position: absolute;\n  object-fit: contain;\n  width: 72%;\n  height: 560px;\n`;\nconst Fand = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 140px;\n  color: rgba(0, 0, 0, 84);\n  border-bottom: 1px solid #e3e4e8;\n`;\nconst Fand__title = styled.input`\n  border:solid 2px #d3d3d3;\n  margin-bottom: 2% ;\n  font-size: 24px;\n  height: 40px;\n  width: 100%;\n  border-radius: 10px;\n`;\nconst Fand__goal__shere__icon = styled.img`\n  height: 40px;\n  width: 40px;\n  margin-right: 6px;\n  border-radius:50%;\n`;\nconst Message = styled.div`\n  padding-top: 10%;\n  padding-bottom: 5%;\n  display: flex;\n  justify-content: space-around;\n`;\nconst Message__list = styled.div`\n  width: 30%;\n  display: flex;\n  justify-content: center;\n`;\nconst Fand__goal = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 10px;\n  >.h4{\n    margin-left: 20px;\n    color: red;\n  }\n`;\nconst Message__text__lay = styled.textarea`\n  position: relative;\n  width: 84%;\n  margin: 0 auto 40px; \n  padding: 20px; \n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  resize: none;\n  outline: none;\n`;\nconst Message__text = styled.div`\n  width: 70%;\n  display: flex;\n  justify-content: center;\n`;\nconst Message__icon = styled.img`\n  width: 150px;\n  height: 150px;\n  border-radius: 50%;\n`;\nconst fand__explanation = styled.div`\n  width: 100%;\n`;\nconst yourname = styled.div`\n  margin-top: 40px;\n`;\nconst Button = styled.div`\n  height: 190px;\n  text-align:center;\n`;\nconst Button__desition = styled.input`\n  background-color: tomato;\n  color: white;\n  width: 160px;\n  height: 50px;\n  border-radius: 30px;\n  border-style: none;\n  font-size: 20px;\n  text-align: center;\n`;\nconst Advertisement = styled.img`\n  height: 240px;\n  object-fit: fill;\n  padding-top: 20px;\n  width: 100%;\n  border-bottom: 1px solid #d3d3d3;\n`;","map":{"version":3,"sources":["/Users/kataokayuuto/Desktop/Harvest_next/pages/setting.js"],"names":["React","useState","useEffect","Link","Layout","styled","PhotoIcon","AccountCircle","useForm","useRouter","firebaseClient","v4","uuidv4","firebase","FacebookShareButton","FacebookIcon","TwitterShareButton","TwitterIcon","auth","firestore","setting","router","register","handleSubmit","watch","errors","title","settitle","image","setimage","sumview","setsumview","giveday","setgiveday","explanation","setexplanation","Userlist","setUserlist","UUID","setUUID","currentUser","push","uid","collection","doc","get","then","data","catch","error","console","log","fanding","onSubmit","set","fileUrl","createdAt","FieldValue","serverTimestamp","createdBy","Name","titleID","replace","selectedFile","setSelectedFile","preview","setPreview","setFileUrl","fileId","undefined","objectUrl","URL","createObjectURL","revokeObjectURL","onSelectFile","e","target","files","length","file","storageRef","storage","ref","fileRef","child","put","getDownloadURL","fontSize","width","height","zIndex","verticalAlign","value","required","Body","body","Header","header","Main","main","Aside","aside","Header__logo","a","Header__login","Header__button","div","Header__button__noselect","Header__button__select","Setting","Setting__file","Setting__file__images","span","Filesend","input","Setting__image","Fand","Fand__title","Fand__goal__shere__icon","img","Message","Message__list","Fand__goal","Message__text__lay","textarea","Message__text","Message__icon","fand__explanation","yourname","Button","Button__desition","Advertisement"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect} from 'react';\nimport Link from 'next/link'\nimport Layout from '../components/Layout';\nimport styled from 'styled-components';\nimport PhotoIcon from '@material-ui/icons/Photo';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { useForm } from \"react-hook-form\";\nimport { useRouter } from 'next/router';\nimport firebaseClient from '../firebaseClient';\nimport { v4 as uuidv4 } from 'uuid';\nimport firebase from \"firebase/app\"\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport 'firebase/storage';\nimport 'firebase/app';\nimport {\n  FacebookShareButton,\n  FacebookIcon,\n  TwitterShareButton,\n  TwitterIcon\n} from 'react-share';\n\n//firebase初期化\nfirebaseClient();\n//firestore初期化\nconst auth = firebase.auth();\nconst firestore =  firebase.firestore();\n\n\nconst setting = () => {\n  const router = useRouter();\n  const { register, handleSubmit, watch, errors } = useForm();\n  const [title, settitle] = useState('');\n  const [image, setimage] = useState('');\n  const [sumview, setsumview] = useState('');\n  const [giveday, setgiveday] = useState('');\n  const [explanation, setexplanation] = useState('');\n  const [Userlist, setUserlist] = useState('');\n  const [UUID, setUUID] = useState(uuidv4());\n  useEffect(() => {\n    !auth.currentUser && router.push('/signIn')\n  }, [auth.currentUser]);\n  const {uid} = auth.currentUser;\n  firestore.collection('UserList').doc(uid).get().then((doc) => {\n    setUserlist(doc.data());\n    }).catch((error) => {\n      console.log(\"Error getting document:\", error);\n  })\n  const fanding = firestore.collection('Fanding').doc(UUID);\n  const onSubmit = () => {\n      fanding.set({\n        title:title,\n        image:fileUrl,\n        sumview:sumview,\n        giveday:giveday,\n        explanation:explanation,\n        createdAt:firebase.firestore.FieldValue.serverTimestamp(),\n        createdBy:Userlist.Name,\n        titleID:UUID\n    }).then(()=>{\n      router.replace('/');\n    })\n  }\n  //fileupload\n  const [selectedFile, setSelectedFile] = useState('');\n  const [preview, setPreview] = useState('');\n  const [fileUrl, setFileUrl] = React.useState(null);\n  const fileId = uuidv4();\n  useEffect(() => {\n      if (!selectedFile) {\n          setPreview(undefined)\n          return\n      }\n      const objectUrl = URL.createObjectURL(selectedFile)\n      setPreview(objectUrl)\n      return () => URL.revokeObjectURL(objectUrl)\n  }, [selectedFile])\n  const onSelectFile = async (e) => {\n      if (!e.target.files || e.target.files.length === 0) {\n          setSelectedFile(undefined)\n          return\n      }\n      setSelectedFile(e.target.files[0])\n      const file = e.target.files[0];\n      const storageRef = firebase.storage().ref();\n      const fileRef = storageRef.child(`${fileId}.jpeg`);\n      await fileRef.put(file);\n      setFileUrl(await fileRef.getDownloadURL());\n  }\n\n  return(<>\n  <Layout/>\n   <Body>\n    <Header>\n      <Link href=\"/\"><Header__logo>Harvest</Header__logo></Link>\n      <Header__button>\n        <Link href=\"/\"><Header__button__noselect>応援する</Header__button__noselect></Link>\n        <Link href=\"./support\"><Header__button__noselect>支援中</Header__button__noselect></Link>\n        <Link href=\"./setting\"><Header__button__select>支援してもらう</Header__button__select></Link>\n      </Header__button>\n      <Header__login>\n        <Link href=\"../signIn\">\n        <AccountCircle style={{fontSize: '40px'}}/>\n        </Link>\n      </Header__login>\n    </Header>\n    <Main>\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <Setting>\n        <Setting__image>\n        {selectedFile && <img src={preview}　style={{ width: \"100%\" ,height:\"100%\", zIndex:0}}/> }\n        </Setting__image>\n        <Setting__file>\n        <label htmlFor=\"image\">\n          <Setting__file__images>\n            <PhotoIcon style={{verticalAlign:\"middle\"}}/>サムネイルを投稿する\n          </Setting__file__images>\n          <Filesend\n            type=\"file\"\n            id = \"image\"\n            name=\"image\"\n            onChange={(e )=> setimage(e.target.value),onSelectFile}\n            inputRef={register({ required: true })}\n            required\n            />\n            </label>\n        </Setting__file>\n      </Setting>\n      <Fand>\n        <Fand__title \n        type=\"text\"\n        size=\"56\" \n        name=\"title\" \n        inputRef={register({ required: true })}\n        onChange={(e )=> settitle(e.target.value)}\n        placeholder=\"タイトルを入力してください\" \n        required\n        />\n        <Fand__goal>\n          <h4>目標視聴数(千単位)<br/>\n          <input\n            type=\"number\"\n            max=\"10000\"\n            min=\"1\" \n            name=\"sumview\" \n            inputRef={register({ required: true })}\n            onChange={(e )=> setsumview(e.target.value)}\n            required\n            />k\n          </h4>\n          <h4>募集日数（日）<br/>\n            <input \n            type=\"number\"\n            max=\"14\" \n            min=\"1\" \n            name=\"giveweek\" \n            inputRef={register({ required: true })}\n            onChange={(e )=> setgiveday(e.target.value)}\n            required\n            />days\n          </h4>\n          <h4>\n          <FacebookShareButton url={[\"https://www.typescriptlang.org/docs/handbook/asp-net-core.html\"]} title={['none']}>\n            <FacebookIcon size={45} round />\n          </FacebookShareButton>\n          <TwitterShareButton url={[\"https://www.typescriptlang.org/docs/handbook/asp-net-core.html\"]} title={['none']}>\n             <TwitterIcon size={45} round />\n          </TwitterShareButton>\n          </h4>\n        </Fand__goal>\n      </Fand>\n      <Message>\n        <Message__list>\n          <Message__icon src=\"../static/pics2.jpg\"/>\n        </Message__list>\n        <Message__text>\n          <Message__text__lay\n          name=\"explanation\"  \n          cols=\"80\" \n          rows=\"20\" \n          nputRef={register({ required: true })}\n          onChange={(e )=> setexplanation(e.target.value)}\n          required \n          placeholder=\"説明文を書いてください(1200文字以下)\"\n          />\n        </Message__text>\n      </Message>\n      <Button>\n        <Button__desition placeholder=\"投稿する\" type=\"submit\"/>\n      </Button>\n    </form>\n    </Main>\n    <Aside>\n      <Advertisement src=\"../static/pics2.jpg\"/>\n    </Aside>\n  </Body>\n  </>\n  );\n}\n\nexport default setting;\n\n\nconst Body = styled.body `\n  width: 100%;\n  margin: 0 auto;\n  min-height: 100vh;\n  display: grid;\n  grid-template:\n      \"...... ...... ...... ...... ......\"\n      \"header header header header header\" \n      \"...... ...... ...... ...... ......\"\n      \"center center center ...... right \" 100%\n      \"...... ...... ...... ...... ......\"\n      /  20% auto 1fr auto 24% ;\n`\nconst Header = styled.header`\n  grid-area: header;\n  display: flex;\n  flex: auto;\n  justify-content:space-between;\n  flex-wrap: wrap;\n  padding:16px 0 0 4%;\n  text-align: center;\n  font-weight: 300;\n  background-color: #fff;\n  color: #434a54;\n  border-bottom: 1px solid #e3e4e8;\n`\nconst Main = styled.main `\n  grid-area: center;\n  margin: 2%;\n`\nconst Aside = styled.aside `\n  grid-area: right;\n  background-color:#f5f5f5;\n`\nconst Header__logo = styled.a`\n  font-size: 30px;\n`\nconst Header__login = styled.a`\n  width:160px;\n`\nconst Header__button = styled.div`\n  display: flex;\n  justify-content: center;\n  text-align: center;\n`\nconst Header__button__noselect = styled.a`\n  width:140px;\n  font-size:18px;\n  padding: 17px;\n  line-height: 16px;\n  border: 1px solid #e3e4e8;\n  border-bottom: none;\n  color: #434a54;\n  &:hover{\n    background-color: #434a54;\n    color:#fff;\n    opacity: 0.8;\n  }\n  &:target {\n    background-color: #434a54;\n    color:#fff;\n  }\n`\nconst Header__button__select = styled.a`\n  background-color: #434a54;\n  color:#fff;\n  opacity: 0.8;\n  width:140px;\n  font-size:18px;\n  padding: 17px;\n  line-height: 15px;\n  border-bottom: none;\n  border: 1px solid #e3e4e8;\n`\nconst Setting = styled.div`\n  border: 1px solid #e3e4e8;\n  width: 100%;\n  height: 560px;\n  text-align:center;\n  margin-bottom:30px;\n`\nconst Setting__file = styled.div`\n  z-index: 1;\n  height: 560px;\n  width: 100%;\n  opacity: 0;\n  -webkit-transition: all 0.2s ease;\n  transition: all 0.2s ease;\n  &:hover{\n    background-color: rgb(104, 103, 103);\n    opacity: 0.7;\n  }\n`\nconst Setting__file__images = styled.span`\n  font-size: 16px;\n  color: whitesmoke;\n  height: 200px;\n  margin: auto;\n  opacity: 1;\n  line-height: 570px;\n  &:hover{\n    color: whitesmoke;\n    opacity: 0.7; \n  }\n`\nconst Filesend = styled.input`\n  display: none;\n`\nconst Setting__image = styled.div`\n  position: absolute;\n  object-fit: contain;\n  width: 72%;\n  height: 560px;\n`\nconst Fand = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 140px;\n  color: rgba(0, 0, 0, 84);\n  border-bottom: 1px solid #e3e4e8;\n`\nconst Fand__title = styled.input`\n  border:solid 2px #d3d3d3;\n  margin-bottom: 2% ;\n  font-size: 24px;\n  height: 40px;\n  width: 100%;\n  border-radius: 10px;\n`\nconst Fand__goal__shere__icon = styled.img`\n  height: 40px;\n  width: 40px;\n  margin-right: 6px;\n  border-radius:50%;\n`\nconst Message = styled.div`\n  padding-top: 10%;\n  padding-bottom: 5%;\n  display: flex;\n  justify-content: space-around;\n`\nconst Message__list = styled.div`\n  width: 30%;\n  display: flex;\n  justify-content: center;\n`\nconst Fand__goal = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 10px;\n  >.h4{\n    margin-left: 20px;\n    color: red;\n  }\n`\nconst Message__text__lay = styled.textarea`\n  position: relative;\n  width: 84%;\n  margin: 0 auto 40px; \n  padding: 20px; \n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  resize: none;\n  outline: none;\n`\nconst Message__text = styled.div`\n  width: 70%;\n  display: flex;\n  justify-content: center;\n`\nconst Message__icon = styled.img`\n  width: 150px;\n  height: 150px;\n  border-radius: 50%;\n`\nconst fand__explanation = styled.div`\n  width: 100%;\n`\nconst yourname = styled.div`\n  margin-top: 40px;\n`\nconst Button = styled.div`\n  height: 190px;\n  text-align:center;\n`\nconst Button__desition = styled.input`\n  background-color: tomato;\n  color: white;\n  width: 160px;\n  height: 50px;\n  border-radius: 30px;\n  border-style: none;\n  font-size: 20px;\n  text-align: center;\n`\nconst Advertisement = styled.img`\n  height: 240px;\n  object-fit: fill;\n  padding-top: 20px;\n  width: 100%;\n  border-bottom: 1px solid #d3d3d3;\n`"]},"metadata":{},"sourceType":"module"}